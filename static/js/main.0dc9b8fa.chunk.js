(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,a){e.exports=a(209)},207:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),c=a(56),l=a(40),s=a(240),u=a(236),d=a(25),m=a(95),f=a(96),p=a(23),b=a(41),y=a.n(b),g=function(e,t){return Object(p.a)({},y()(e),y()(t))},h=function(e,t){return-1!==e[t].indexOf(null)},E={setEmptyBoard:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=2*e-1,a=e+2,n=[],r=0;r<t;r++){n.push(new Array(a));for(var i=0;i<a;i++)n[r][i]=null}return n},setDiscsAmount:function(e){return 2*(5*e+1)},isDiscPlayable:function(e,t){return e.discsPlayed<e.discsAmount/2&&h(e.boardGrid,t)},isColAvailable:h,setCurrentPlayer:function(e){return e.startsWith("y")?"red":"yellow"},addDiscToBoard:function(e,t,a){for(var n=y()(t),r=n[e].length-1;r>=0;r--)if(null===n[e][r]){n[e][r]=a;break}return n}},v={boardGrid:E.setEmptyBoard(4),boardSizeConfig:4,discsAmount:42,discsPlayed:0,currentPlayer:"red",gameStatus:"started",player1:"red",player2:"yellow"},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DISC":return g(e,{boardGrid:E.addDiscToBoard(t.payload.column,e.boardGrid,e.currentPlayer)});case"SET_BOARD_GRID_EMPTY":return g(e,{boardGrid:E.setEmptyBoard(t.payload.number)});case"SET_BOARD_CONFIG_NUMBER":return g(e,{boardSizeConfig:t.payload.number});case"SET_DISCS_NUMBER":return g(e,{discsAmount:E.setDiscsAmount(t.payload.number)});case"INCREMENT_DISCS_PLAYED_NUMBER":return Object(p.a)({},e,{discsPlayed:e.discsPlayed+1});case"SET_CURRENT_PLAYER":return g(e,{currentPlayer:E.setCurrentPlayer(t.payload.playerColor)});case"SET_GAME_STATUS":return Object(p.a)({},e,{gameStatus:t.payload.status});case"RESTART_GAME":return Object(p.a)({},v);default:return e}},w=[m.a],C=[d.applyMiddleware.apply(void 0,w)],x=f.composeWithDevTools.apply(void 0,C),D=Object(d.createStore)(S,void 0,x),O=a(109),T=Object(O.a)({palette:{type:"light"},typography:{fontFamily:"Open Sans, sans-serif",fontSize:16,color:{main:"#282c34"},useNextVariants:!0,h1:{fontSize:"2.5rem",fontWeight:"700"},h2:{fontSize:"2rem",fontWeight:"700"},h3:{fontSize:"1.5rem",fontWeight:"700"},h4:{fontSize:"1.25rem",fontWeight:"400"},body1:{fontSize:"1rem",fontWeight:"400"},body2:{fontSize:"0.875rem",fontWeight:"400",lineHeight:1},caption:{fontSize:"0.75rem",fontWeight:"400",lineHeight:1.5}}}),N=a(211),j=a(241),_=Object(N.a)(function(e){return Object(j.a)({appContainer:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,display:"flex",height:"100vh",position:"relative",width:"100vw"}})}),R=a(27),G=a(36),B=a(111),P=a(97),k=a(110),A=a(16),z=a(239),I=a(235),M=a(237),W=a(233),L=a(105),Y=a.n(L),U=a(232),F=Object(N.a)(function(){return Object(j.a)({gameContainer:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",position:"absolute",width:"100%"}})}),H=function(e){var t=F();return r.a.createElement("div",{className:t.gameContainer},e.children)},V=Object(N.a)(function(e){return Object(j.a)({boardContainer:{background:"linear-gradient(to right, #7474BF, #348AC7)",borderColor:e.palette.primary.dark,borderStyle:"solid",borderRightColor:e.palette.primary.light,borderLeftColor:e.palette.primary.light,boxShadow:"0 0 30px #ccc",boxSizing:"border-box",display:"flex",maxWidth:"90vw",overflow:"hidden","@media (min-width:768px)":{borderWidth:e.spacing(1),maxWidth:"55vw",padding:e.spacing(1)}},boardColumn:function(e){return{maxWidth:"50px",width:"calc(90vw / ".concat(e.nColumns,")"),"&:hover":{opacity:.7},"@media (min-width:768px)":{maxWidth:"70px",width:"calc(55vw / ".concat(e.nColumns,")")}}}})}),J=a(57),$=a(231),q=Object(N.a)(function(e){return Object(j.a)({discSize:function(e){return{borderRadius:" 50%",maxHeight:"50px",maxWidth:"50px",margin:0,padding:0,height:"calc(85vw / ".concat(e.nColumns,")"),width:"calc(85vw / ".concat(e.nColumns,")"),"@media(min-width: 768px)":{maxHeight:"70px",maxWidth:"70px",height:"calc(50vw / ".concat(e.nColumns,")"),width:"calc(50vw / ".concat(e.nColumns,")")}}},disc:function(e){return{extend:"discSize",alignItems:"center",backgroundColor:"white",cursor:"pointer",display:"flex",justifyContent:"center",margin:"0 auto",padding:0,transform:"scale(0.9)","&:hover":{backgroundColor:K(e.color),transition:"all 250ms ease-in-out"}}},whiteDisc:{background:" transparent"},redDisc:{background:J.a[900],animationName:"$discIn",animationDuration:"300ms",animationIterationCount:"1"},yellowDisc:{backgroundColor:$.a[600],animationName:"$discIn",animationDuration:"300ms",animationIterationCount:"1"},"@keyframes discIn":{from:{transform:"translateY(-500px)"},to:{transform:"translateY(0px)"}}})}),K=function(e){switch(e.toLowerCase()){case"yellow":return $.a[600];default:return J.a[900]}},Q=q,X=function(e){var t=e.x,a=e.y,n=e.boardGrid,i=e.currentPlayer,o=e.actions,c=Q({nColumns:n.length,color:i});return r.a.createElement("div",{className:[c.disc,c.discSize].join(" "),onClick:function(){return o.addDisc(a)}},r.a.createElement("div",{className:function(){var e=[c.discSize];return null!==n[a][t]?e.push(n[a][t].startsWith("r")?c.redDisc:c.yellowDisc):e.push(c.whiteDisc),e.join(" ")}()}))},Z=function(e){var t=V({nColumns:e.boardGrid.length});return r.a.createElement("div",{className:t.boardContainer},e.boardGrid.map(function(a,n){return r.a.createElement("div",{key:"column-".concat(n),className:t.boardColumn},a.map(function(t,a){return r.a.createElement(X,Object.assign({key:"row-".concat(a,"-").concat(n),x:a,y:n},e))}))}))},ee=Object(N.a)(function(e){return Object(j.a)({fab:{margin:e.spacing(2)},fabPosition:{position:"absolute",bottom:e.spacing(2),right:e.spacing(3)},gameStatus:{marginBottom:e.spacing(5),width:"340px"},discsInfo:{display:"flex",flexDirection:"row",justifyContent:"space-around"}})}),te=function(e){var t=ee(),a=e.history,n=e.actions,i=function(){a.goBack(),n.restartGame()},o=function(){return"red"===e.currentPlayer?"Red player's turn":"Yellow player's turn"},c=function(t){var a=e.discsAmount,n=e.discsPlayed,r=a/2;return"red"===t?0===n?r:r-l("red"):0===n?r:r-l("yellow")},l=function(t){return e.boardGrid.reduce(function(e,a){return e+a.filter(function(e){return e===t}).length},0)};return r.a.createElement(H,null,r.a.createElement("div",{className:t.gameStatus},r.a.createElement(U.a,{variant:"h2",align:"center"},function(){switch(e.gameStatus){case"player1_wins":return"Red player wins!";case"player2_wins":return"Yellow player wins!";case"draw":return"Draw!";default:return o()}}()),r.a.createElement(U.a,{variant:"h6",align:"center"},"Discs to play"),r.a.createElement("div",{className:t.discsInfo},r.a.createElement(U.a,{variant:"body2",component:"span"},"Red discs: ",c("red")),r.a.createElement(U.a,{variant:"body2",component:"span"},"Yellow discs: ",c("yellow")))),r.a.createElement(Z,e),r.a.createElement(M.a,{title:"Restart game","aria-label":"Restart game"},r.a.createElement(W.a,{color:"secondary",className:t.fabPosition,onClick:i,onTouchEnd:i},r.a.createElement(Y.a,null))))},ae=function(e){return r.a.createElement(A.b,{key:"game-board",path:"/game-board",exact:!0,render:function(){return r.a.createElement(te,e)}})},ne=a(234),re=a(238),ie=Object(N.a)(function(e){return Object(j.a)({configTitle:{fontFamily:"Bungee Shade, Open Sans, sans-serif",fontSize:"2.5rem",marginBottom:e.spacing(5),textTransform:"uppercase","@media(min-width:768px)":{fontSize:"3rem"}},configNextBtn:{fontWeight:"bold",marginTop:e.spacing(5)},sliderContainer:{marginTop:e.spacing(2),width:"60vw","@media (min-width: 768px)":{width:"30vw"}},slider:{"& .MuiSlider-thumb .MuiSlider-valueLabel":{transform:"scale(1.3) translateY(-10px)"}},sliderRoot:{marginTop:e.spacing(6),color:e.palette.secondary.dark,height:3,padding:"13px 0"},sliderThumb:{height:27,marginTop:-12,marginLeft:-13,width:27},sliderTrack:{height:3},sliderRail:{color:e.palette.secondary.light,opacity:1,height:3},sliderValueLabel:{fontSize:"0.65rem",left:"calc(-50% + 10px)"},sliderMark:{backgroundColor:"yellow"}})}),oe=r.a.forwardRef(function(e,t){return r.a.createElement(l.b,Object.assign({innerRef:t},e))});function ce(e){return"".concat(2*e-1,"x").concat(e+2)}var le=function(e){var t=ie(),a=e.actions,n=e.boardSizeConfig;return r.a.createElement(H,null,r.a.createElement(U.a,{align:"center",variant:"h1",className:t.configTitle},"Connect 4"),r.a.createElement(U.a,{align:"center",variant:"body1"},"Select the board size"),r.a.createElement("div",{className:t.sliderContainer},r.a.createElement(re.a,{defaultValue:n,valueLabelFormat:ce,"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:1,min:4,max:10,onChangeCommitted:function(e,t){n!==t&&a.changeBoardSize(t)},className:t.slider,classes:{root:t.sliderRoot,thumb:t.sliderThumb,track:t.sliderTrack,rail:t.sliderRail,valueLabel:t.sliderValueLabel}})),r.a.createElement(ne.a,{variant:"contained",color:"secondary",to:"/game-board",className:t.configNextBtn,component:oe},"Start"))},se=function(e){return r.a.createElement(A.b,{key:"game-config",path:"/",exact:!0,render:function(){return r.a.createElement(le,e)}})},ue=(a(207),function(e){return r.a.createElement(A.b,{key:"connect-four",path:"/",children:function(t){return r.a.createElement(z.a,null,r.a.createElement(I.a,{key:t.location.key,timeout:1e3,classNames:"page"},r.a.createElement(A.d,{location:t.location},[se(Object(p.a)({},e,t)),ae(Object(p.a)({},e,t)),r.a.createElement(A.a,{key:"redirect",to:"/"})])))}})}),de=function(e){for(var t=e[0].length,a=e.length,n="",r=0,i=0;i<t;i++){r=0,n="";for(var o=0;o<a;o++){var c=e[o][i];if(c)if(c===n){if(4===++r)return n}else r=1,n=c;else r=0,n=""}}return null},me=function(e){for(var t=e.length,a=e[0].length,n="",r=0,i=0;i<t;i++){r=0,n="";for(var o=0;o<a;o++){var c=e[i][o];if(c)if(c===n){if(4===++r)return n}else r=1,n=c;else r=0,n=""}}return null},fe=function(e,t,a){for(var n,r,i,o=4-a;o<t-3;o++){n=0,r="",i=o-1;for(var c=0;c<a;c++)if(++i>=0&&i<t&&c<a){var l=e[i][c];if(l||(n=0),l&&r&&(l!==r?n=0:n++),r=l,n+1===4)return r}}return!1},pe=function(e,t,a){for(var n,r,i,o=4-a;o<t-3;o++){n=0,r="",i=o-1;for(var c=a-1;c>=0;c--)if(++i>=0&&i<t&&c<a){var l=e[i][c];if(l||(n=0),l&&r&&(l!==r?n=0:n++),r=l,n+1===4)return r}}return!1},be=function(e){var t=e[0].length,a=e.length;return pe(e,a,t)||fe(e,a,t)},ye=function(e){return me(e)||de(e)||be(e)},ge=function e(){Object(R.a)(this,e)};ge.addDiscToBoard=function(e){return function(t,a){if("started"===a().gameStatus){if(E.isDiscPlayable(a(),e)){t(he.addDisc(e)),t(he.incrementDiscsPlayedNumber()),t(he.setCurrentPlayer(a().currentPlayer));var n=ye(a().boardGrid);"red"===n&&t(he.setGameStatus("player1_wins")),"yellow"===n&&t(he.setGameStatus("player2_wins"))}a().discsPlayed>=a().discsAmount/2&&t(he.setGameStatus("draw"))}}},ge.removeDisc=function(e){return function(e){}},ge.restartGame=function(){return function(e){return e(he.restartGame())}},ge.setGameStatus=function(){return function(e){return e(he.setGameStatus("draw"))}};var he=function e(){Object(R.a)(this,e)};he.addDisc=function(e){return{type:"ADD_DISC",payload:{column:e}}},he.incrementDiscsPlayedNumber=function(){return{type:"INCREMENT_DISCS_PLAYED_NUMBER"}},he.setCurrentPlayer=function(e){return{type:"SET_CURRENT_PLAYER",payload:{playerColor:e}}},he.setGameStatus=function(e){return{type:"SET_GAME_STATUS",payload:{status:e}}},he.restartGame=function(){return{type:"RESTART_GAME"}};var Ee=function e(){Object(R.a)(this,e)};Ee.setBoardConfiguration=function(e){return function(t){t(ve.setBoardConfigNumber(e)),t(ve.setDiscsNumber(e)),t(ve.setBoardGridEmpty(e))}};var ve=function e(){Object(R.a)(this,e)};ve.setBoardConfigNumber=function(e){return{type:"SET_BOARD_CONFIG_NUMBER",payload:{number:e}}},ve.setDiscsNumber=function(e){return{type:"SET_DISCS_NUMBER",payload:{number:e}}},ve.setBoardGridEmpty=function(e){return{type:"SET_BOARD_GRID_EMPTY",payload:{number:e}}};var Se=function(e){function t(){return Object(R.a)(this,t),Object(B.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,this.props))}}]),t}(r.a.Component),we=Object(c.b)(function(e){return{boardGrid:e.boardGrid,boardSizeConfig:e.boardSizeConfig,currentPlayer:e.currentPlayer,gameStatus:e.gameStatus,discsAmount:e.discsAmount,discsPlayed:e.discsPlayed}},function(e){return{actions:Object(d.bindActionCreators)({changeBoardSize:Ee.setBoardConfiguration,addDisc:ge.addDiscToBoard,restartGame:ge.restartGame},e)}})(Se),Ce=function(){var e=_();return r.a.createElement(c.a,{store:D},r.a.createElement(l.a,null,r.a.createElement(u.a,null),r.a.createElement(s.a,{theme:T},r.a.createElement("div",{className:e.appContainer},r.a.createElement(we,null)))))};o.a.render(r.a.createElement(Ce,null),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.0dc9b8fa.chunk.js.map